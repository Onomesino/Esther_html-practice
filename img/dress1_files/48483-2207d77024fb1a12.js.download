"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48483],{53558:function(e,n,i){i.d(n,{nd:function(){return m},Bg:function(){return d},c3:function(){return p},wb:function(){return T},Oy:function(){return b},kR:function(){return v},Mq:function(){return _},Q1:function(){return y}});var t,r,o,s=i(92809),c=i(39338),u=i(60969);function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){(0,s.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=(t={},(0,s.Z)(t,c._0,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.Ke,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.m4,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.Fq,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.v2,{quality:3,displayName:"large",name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.R7,{quality:3,name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.x0,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.Vw,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.JF,{quality:3,name:"large",downloadName:"large",label:"common:image_size_large"}),t),d=(r={},(0,s.Z)(r,c.Xk,c.v2),(0,s.Z)(r,c.Fm,c.v2),(0,s.Z)(r,c._I,c._0),(0,s.Z)(r,c.Nu,c._0),r),p={lowres:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},lowresMpeg:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},lowresOriginal:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},low:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},web:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},sd:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},sdMpeg:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},sdOriginal:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},nonhd:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},hd:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},hdMpeg:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},hdOriginal:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},"4k":{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},"4K":{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},ultrahd4k:{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},ultrahd4KOriginal:{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"}},b={LEGACY_TO_SSTK:{ultrahd4k:"4k",web:"low",lowres:"low"},SSTK_TO_LEGACY:{low:"web","4k":"ultrahd4k"},SSTK_TO_LEGACY_ELIGIBILTY:l(l({},{low:"lowres"}),{},{"4k":"ultrahd4k"})},f=(l(l({},p),{},{select:{name:"select",quality:5,label:"common:resolutions_select"}}),function(e){var n,i=e.licenseType,t=e.isOnlySDVideoAvailable;return n={},(0,s.Z)(n,"footage_".concat(i,"_4k"),c.yF),(0,s.Z)(n,"footage_".concat(i,"_hd"),t?c.SD:c.HD),(0,s.Z)(n,"footage_".concat(i,"_sd"),c.SD),(0,s.Z)(n,"footage_".concat(i,"_lowres"),c.T0),n}),v=u.oP.reduce((function(e,n){return l(l({},e),f({licenseType:n}))}),{}),y=u.oP.reduce((function(e,n){return l(l({},e),f({licenseType:n,isOnlySDVideoAvailable:!0}))}),{}),T=(o={},(0,s.Z)(o,c.yF,c.yF),(0,s.Z)(o,c.HD,c.HD),(0,s.Z)(o,c.SD,c.SD),(0,s.Z)(o,c.qY,c.qY),(0,s.Z)(o,c.qG,c.yF),(0,s.Z)(o,c.dn,c.HD),(0,s.Z)(o,c.rf,c.SD),(0,s.Z)(o,c.Zh,c.qY),(0,s.Z)(o,c.L0,c.HD),(0,s.Z)(o,c.Ae,c.SD),(0,s.Z)(o,c.vD,c.HD),(0,s.Z)(o,c.yE,c.qY),o),_=[c.yF,c.HD,c.SD,c.yE,c.qY,c.qG,c.dn,c.rf,c.Zh,c.L0,c.Ae,c.vD].reduce((function(e,n){return l(l({},e),{},(0,s.Z)({},n,function(e){var n,i=e.resolutionAbbr;return n={},(0,s.Z)(n,u.az,"footage_premier_".concat(i)),(0,s.Z)(n,u.lu,"footage_platform_".concat(i)),(0,s.Z)(n,u.dW,"footage_media_".concat(i)),(0,s.Z)(n,u.Iu,"footage_sm_premier_".concat(i)),(0,s.Z)(n,u.CS,"footage_sm_media_".concat(i)),(0,s.Z)(n,u.s5,"footage_select_premier_".concat(i)),(0,s.Z)(n,u.Hv,"footage_select_media_".concat(i)),(0,s.Z)(n,u.TP,"footage_comp_".concat(i)),n}({resolutionAbbr:T[n]})))}),{})},48483:function(e,n,i){i.d(n,{vq:function(){return y},qY:function(){return T},Ip:function(){return _},rZ:function(){return g},XI:function(){return w},Im:function(){return Z},$L:function(){return h},cr:function(){return S},q1:function(){return q},Aw:function(){return D},E3:function(){return N},hD:function(){return k},nj:function(){return j},ky:function(){return A},ar:function(){return P},eL:function(){return F},lc:function(){return I},I9:function(){return E}});var t=i(86818),r=i(92809),o=i(61565),s=i(39338),c=i(87883),u=i(93197),a=i(60969),l=i(93126),m=i(69465),d=i(52087),p=i(53558),b=i(68733);function f(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function v(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?f(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var y=function(e){var n=e.licenseName;return a.b5.includes(n)},T=function(e){var n,i,t=e.subscription;return!!(null!==t&&void 0!==t&&t.isUnlimited||null!==t&&void 0!==t&&null!==(n=t.currentLicenses)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.isUnlimited)},_=function(e){var n,i,t,r=e.subscription,o=null===r||void 0===r||null===(n=r.currentAllotments)||void 0===n?void 0:n.length;return null===r||void 0===r||null===(i=r.currentAllotments)||void 0===i||null===(t=i[o-1])||void 0===t?void 0:t.creditsRemaining},g=function(e){var n=e.subscription,i=_({subscription:n});return null===i||i>0},w=function(e){var n=e.subscription,i=n.creditPrice,t=n.creditType,r=n.currentLicenses,s=n.redeemableFor,a=l.bW[n.type],d=((null===r||void 0===r?void 0:r.find((function(e){return e.redeemableFor===s})))||{}).creditPriceComponents,p=l.iN[a];return d&&p?Object.entries(d.contentTier).reduce((function(e,n){var i=(0,o.Z)(n,2),t=i[0],r=i[1],s=Number(t),c=p[t];return c&&r&&e.push({subscriptionType:c,price:r.amount,contentTier:s,priceType:r.amountType||l.Zm}),e}),[]):[{subscriptionType:T({subscription:n})?"".concat(a).concat((0,m.ZV)(c.q9)):a,price:i,priceType:t||l.Zm,contentTier:u.E2}]},O=function(e){var n=e.contentTier,i=e.isUnlimited,t=e.isUnlimitedSubscriptionAvailable,r=e.maxContentTier;return n===c.rD?!i:n===c.q9?t?!!i:r>=0:r>=n},Z=function(e){var n=e.subscriptions,i=e.licenseName,t=i?null===n||void 0===n?void 0:n.filter((function(e){return e.redeemableFor==="".concat(i,"_unlimited")})):n;return!(null===t||void 0===t||!t.some((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.some((function(e){return!!e.isUnlimited}))})))},h=function(e){var n,i,t,r=e.assetType,o=e.subscriptions,s=e.licenseName,c=e.contentTier,u=null===o||void 0===o||null===(n=o.filter((function(e){var n=e.license,i=e.redeemableFor,t=e.name;return n===s||i===s||t===s})))||void 0===n||null===(i=n.sort((function(e,n){return new Date(e.subscriptionExpiration).getTime()-new Date(n.subscriptionExpiration).getTime()})))||void 0===i?void 0:i.map((function(e){return(0,b.TR)({subscription:e,assetType:r})})),a=Z({subscriptions:o,licenseName:s}),m=c?function(e){var n=e.subscriptions,i=e.contentTier,t=e.isUnlimitedSubscriptionAvailable;return(null===n||void 0===n?void 0:n.filter((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.find((function(e){var n=e.maxContentTier,r=e.isUnlimited;return O({contentTier:i,isUnlimited:r,isUnlimitedSubscriptionAvailable:t,maxContentTier:n})}))})))||[]}({subscriptions:u,contentTier:c,isUnlimitedSubscriptionAvailable:a}):u,d=function(e){var n=e.subscriptions,i=e.contentTier,t=e.isUnlimitedSubscriptionAvailable;return null===n||void 0===n?void 0:n.map((function(e){var n=e.currentLicenses;if(null===n||void 0===n||!n.length)return v({creditType:l.Zm},e);var r=w({subscription:e}),o=(null===r||void 0===r?void 0:r.find((function(e){return e.contentTier>=i})))||{},s=o.price,c=o.priceType,u=i?null===n||void 0===n?void 0:n.filter((function(e){var n=e.maxContentTier,r=e.isUnlimited;return O({contentTier:i,isUnlimited:r,isUnlimitedSubscriptionAvailable:t,maxContentTier:n})})):n;return v(v({},e),{},{currentLicenses:u,creditPrice:s||e.creditPrice,creditType:c||e.creditType||l.Zm})}))}({subscriptions:m,contentTier:c});return null!==m&&void 0!==m&&m[0]&&(t=v({creditType:l.Zm},null===m||void 0===m?void 0:m[0])),(null===d||void 0===d?void 0:d.find((function(e){return g({subscription:e})})))||t},S=function(e){var n=e.subscriptions,i=void 0===n?[]:n,r=e.contentTier,o=e.assetType;return function(e){return e.sort((function(e,n){return n.creditPrice-e.creditPrice}))}(i.reduce((function(e,n){var s=n.redeemableFor||n.name,c=h({subscriptions:i,licenseName:s,contentTier:r,assetType:o});return c?function(e){var n=e.subscriptionToUse,i=e.licenseName,t=null===n||void 0===n?void 0:n.currentLicenses;return!!t&&t.length&&!(null!==t&&void 0!==t&&t.find((function(e){return e.redeemableFor===i.replace("/_unlimited/","")})))}({subscriptionToUse:c,licenseName:s})||e.find((function(e){var i=e.redeemableFor,t=e.name;return n.redeemableFor===i||n.name&&n.name===t}))?e:[].concat((0,t.Z)(e),[c]):e}),[]))},q=function(e){var n=e.assets,i=void 0===n?[]:n;return(0,d.N3)(null===i||void 0===i?void 0:i[0])?c.nX:(0,d.so)(null===i||void 0===i?void 0:i[0])?c.A7:(0,d.vV)(null===i||void 0===i?void 0:i[0])?c.ox:(0,d.Tp)(null===i||void 0===i?void 0:i[0])},D=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions;if(!t||!n)return[];switch(n){case c.nX:return{compSubscriptions:t.editorialImageCompSubscriptions,subscriptions:S({assetType:n,subscriptions:t.editorialImageSubscriptions,contentTier:i})};case c.A7:return{compSubscriptions:t.editorialVideoCompSubscriptions,subscriptions:S({assetType:n,subscriptions:t.editorialVideoSubscriptions,contentTier:i})};case c.pX:return{compSubscriptions:t.videoCompSubscriptions,subscriptions:S({assetType:n,subscriptions:t.videoSubscriptions,contentTier:i})};case c.xF:case c.j0:return{compSubscriptions:t.musicCompSubscriptions,subscriptions:S({assetType:n,subscriptions:t.musicSubscriptions,contentTier:i})};case c.k4:default:return{compSubscriptions:t.imageCompSubscriptions,subscriptions:S({assetType:n,subscriptions:t.imageSubscriptions,contentTier:i})}}},N=function(e){var n=e.assetType,i=e.subscriptions,t=D({assetType:n,subscriptions:i});return(null===t||void 0===t?void 0:t.subscriptions)||[]},k=function(e){var n,i=e.asset,t=e.subscriptions,r=q({assets:[i]}),o=null===(n=D({assetType:r,subscriptions:t}))||void 0===n?void 0:n.compSubscriptions;return t&&(null===o||void 0===o?void 0:o.some((function(e){return g({subscription:e})})))},j=function(e){var n=e.items,i=e.subscriptions,t=e.subscription;if(n&&n.length)return n.reduce((function(e,n){var r,o=n.licenseId,s=n.price,c=e.total+s,u=q({assets:[n]}),a=t||h({subscriptions:null===(r=D({assetType:u,subscriptions:i}))||void 0===r?void 0:r.subscriptions,selectedLicenseId:o,assetType:u})||{},l=(0,b.Vp)(a),m=l.totalAmount,d=l.amountRemaining,p=l.amountType;return e.amountType=p,c>d&&(e.hasInsufficientSubscriptionCredits=!0,e.hasLowDebitableBalance=!1,e.insufficientAmount=c-d),!e.hasInsufficientSubscriptionCredits&&d<=.05*m&&(e.hasLowDebitableBalance=!0),e.total+=s,e}),{hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,amountType:l.Zm});var r=i||{},o=Object.keys(r).find((function(e){return Array.isArray(r[e])&&r[e].length})),s=(0,b.bC)({subscriptions:r[o]||[]})[0]||{},c=(0,b.Vp)(s),u=c.totalAmount,a=c.amountRemaining;return{amountType:c.amountType,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:a<=.05*u,insufficientAmount:null}},A=function(e){var n=e.items,i=e.isLoading,t=e.subscription,r=e.subscriptions,o=e.userCapabilities;return i?{}:(0,b.Kc)({userCapabilities:o})?j({items:n,subscription:t,subscriptions:r}):{amountType:l.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:!(!t||0!==_({subscription:t})),insufficientAmount:null}},P=function(e){var n,i,t=e.subscriptions,r=e.asset,o=Object.values((null===r||void 0===r||null===(n=r.metadata)||void 0===n||null===(i=n.cart)||void 0===i?void 0:i.sizes)||r.sizes||{}),c=(0,d.$Q)({sizes:o});return null===t||void 0===t?void 0:t.filter((function(e){var n=e.redeemableFor,i=c?p.Q1[n]:p.kR[n];return null===o||void 0===o?void 0:o.some((function(e){var n=e.resolution,t=e.name;return p.wb[n]===i||p.wb[t]===i||i===s.T0&&p.wb[n]===s.qY}))}))},C=function(e){var n,i=e.licenses,t=e.subscriptions;return i.some((function(e){return n=h({subscriptions:t,licenseName:e,assetType:c.pX})})),n},L=function(e){var n=e.licenseType,i=e.licenseName,t=e.subscriptions;return i==="footage_".concat(n,"_sd")?C({licenses:["footage_".concat(n,"_sd"),"footage_".concat(n,"_hd")],subscriptions:t}):i==="footage_".concat(n,"_lowres")?C({licenses:["footage_".concat(n,"_lowres")],subscriptions:t}):void 0},F=function(e){var n=e.subscriptions,i=e.licenseName,t=c.pX;if([a.Mb,a.G,a.mf,a.vb,a.Dh,a.SP,a.a9,a.y2,a.v1,a.KK,a.mJ,a.Wd].some((function(e){return e===i})))return h({subscriptions:n,licenseName:i,assetType:t});if(a.Lj.some((function(e){return e===i})))return h({subscriptions:n,licenseName:i,assetType:t});if([a.f1,a.Oy,a.JC,a.TL].some((function(e){return e===i})))return h({subscriptions:n,licenseName:a.f1,assetType:t});var r=L({licenseType:a.bi,licenseName:i,subscriptions:n}),o=L({licenseType:a.Ee,licenseName:i,subscriptions:n}),s=L({licenseType:a.pH,licenseName:i,subscriptions:n}),u=L({licenseType:a.wO,licenseName:i,subscriptions:n});return r||o||s||u||void 0},I=function(e){var n=e.subscriptions,i=e.assetType;return null===n||void 0===n?void 0:n.some((function(e){var n,t;return(null===e||void 0===e||null===(n=e.product)||void 0===n?void 0:n.status)===l.PP&&(null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.businessUnit)===i}))},E=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions,r=e.selectedLicenseId;switch(n){case c.pX:return F({licenseName:r,subscriptions:t});case c.j0:case c.xF:case c.k4:default:return h({subscriptions:t,licenseName:r,contentTier:i,assetType:n})}}}}]);